<template>
  <div>
    <div id="main-part" :style="mainStyle">
      <div class="left-wrapper" :style="contentStyle">
        <div class="title-wrapper">
          <h1>个<br><br>人<br><br>信<br><br>息<br>。</h1>
        </div>
        <div class="inner-wrapper">
          <el-menu default-active="1" class="el-menu-vertical-demo left-nav" @open="handleOpen" @close="handleClose"
                   :collapse="isCollapse">
            <el-menu-item index="1" @click="handleNavClick">
              <i class="el-icon-menu i-button"></i>
              <span slot="title">账 户 设 置</span>
            </el-menu-item>
            <el-menu-item index="2" @click="handleNavClick">
              <i class="el-icon-setting i-button"></i>
              <span slot="title">隐 私 设 置</span>
            </el-menu-item>
          </el-menu>
        </div>

      </div>
      <div class="right-wrapper" :style="contentStyle">
        <div class="inner-wrapper">
          <!--<input class="file_input" type="file" multiple id="avc"/>-->
          <!--<div class="upload_box">-->
            <!--点我上传图片哦-->
          <!--</div>-->
          <div class="info-wrapper" v-show="userInfo">
            <div class="icon-wrapper">
              <el-upload
                class="avatar-uploader"
                :show-file-list="false"
                action="https://jsonplaceholder.typicode.com/posts/"
                :on-success="handleAvatarSuccess"
                :on-failure="handleAvatarFailure"
                :before-upload="beforeAvatarUpload">
                <img v-if="imageUrl" :src="imageUrl" class="avatar">
                <i class="el-icon-plus avatar-uploader-icon"></i>
              </el-upload>
            </div>
            <div class="name-wrapper">
              <p>ISLAND</p>
              <el-tooltip class="item" effect="dark" content="点击修改" placement="bottom-end">
                <p class="intro-wrapper">哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈</p>
              </el-tooltip>
            </div>
            <div class="prop-wrapper">
              <el-row :gutter="10">
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <p>密码</p>

                </el-col>
                <el-col :xs="16" :sm="16" :md="16" :lg="16" style="padding: 0">
                  <input disabled value="*****"/>
                </el-col>
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <el-button type="success" >修改</el-button>
                </el-col>
              </el-row>
            </div>
            <div class="prop-wrapper" style="top: 10%">
              <el-row :gutter="10">
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <p>手机</p>

                </el-col>
                <el-col :xs="16" :sm="16" :md="16" :lg="16" style="padding: 0">
                  <input disabled value="13151059368"/>
                </el-col>
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <el-button type="success" >修改</el-button>
                </el-col>
              </el-row>
            </div>
            <div class="prop-wrapper" style="top: 15%">
              <el-row :gutter="10">
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <p>邮箱</p>

                </el-col>
                <el-col :xs="16" :sm="16" :md="16" :lg="16" style="padding: 0">
                  <input disabled value="islandq0214@gamil.com"/>
                </el-col>
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <el-button type="success" >修改</el-button>
                </el-col>
              </el-row>
            </div>
            <div class="prop-wrapper" style="top: 20%">
              <el-row :gutter="10">
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <p>标签</p>

                </el-col>
                <el-col :xs="16" :sm="16" :md="16" :lg="16" style="padding: 0">
                  <input disabled value="哈哈哈, 嘻嘻嘻"/>
                </el-col>
                <el-col :xs="4" :sm="4" :md="4" :lg="4" style="padding: 0">
                  <el-button type="success" >修改</el-button>
                </el-col>
              </el-row>
            </div>
          </div>
          <div class="info-wrapper" v-show="!userInfo">
            <div class="prop-wrapper" style="top: 5%;">
              <el-row :gutter="10">
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0">
                  <p>允许谁看我的笔记</p>
                </el-col>
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0;">
                  <el-select v-model="value0" placeholder="请选择">
                    <el-option
                      v-for="item in options"
                      :key="item.value"
                      :label="item.label"
                      :value="item.label">
                    </el-option>
                  </el-select>
                </el-col>

              </el-row>
            </div>
            <div class="prop-wrapper" style="top: 15%">
              <el-row :gutter="10">
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0">
                  <p>允许谁修改我的笔记</p>
                </el-col>
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0;">
                  <el-select v-model="value1" placeholder="请选择">
                    <el-option
                      v-for="item in options"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value">
                    </el-option>
                  </el-select>
                </el-col>

              </el-row>
            </div>
            <div class="prop-wrapper" style="top: 25%">
              <el-row :gutter="10">
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0">
                  <p>允许谁搜索到我的笔记</p>
                </el-col>
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0;">
                  <el-select v-model="value2" placeholder="请选择">
                    <el-option
                      v-for="item in options"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value">
                    </el-option>
                  </el-select>
                </el-col>
              </el-row>
            </div>
            <div class="prop-wrapper" style="top: 35%">
              <el-row :gutter="10">
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0">
                  <p>将笔记动态显示在社区</p>
                </el-col>
                <el-col :xs="24" :sm="24" :md="12" :lg="12" style="padding: 0;">
                  <el-select v-model="value3" placeholder="请选择">
                    <el-option
                      v-for="item in options2"
                      :key="item.value"
                      :label="item.label"
                      :value="item.value">
                    </el-option>
                  </el-select>
                </el-col>

              </el-row>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>
</template>

<script>
  import {mapGetters} from 'vuex'
  //  import * as types from '../../store/mutation-types'
  export default {
    data () {
      return {
        isCollapse: false,
        imageUrl: require('../../assets/icon.png'),
        mainStyle: {
          height: window.innerHeight + 'px'
        },
        contentStyle: {
          height: window.innerHeight - 100 + 'px'
        },
        userInfo: true,
        options: [{
          value: '选项1',
          label: '所有人'
        }, {
          value: '选项2',
          label: '仅好友'
        }, {
          value: '选项3',
          label: '只有我'
        }],
        options2: [{
          value: '选项4',
          label: '允许'
        }, {
          value: '选项5',
          label: '不允许'
        }],
        value0: '',
        value1: '',
        value2: '',
        value3: ''
      }
    },
    computed: {
      ...mapGetters({
        largeSize: 'largeSize',
        mainHeight: 'mainHeight'
      })
    },
    methods: {
      handleAvatarSuccess (res, file) {
        this.imageUrl = URL.createObjectURL(file.raw)
      },
      handleAvatarFailure (res, file) {
        alert('fail')
      },
      beforeAvatarUpload (file) {
        const isJPG = file.type === 'image/jpeg' || file.type === 'image/png'
        const isLt2M = file.size / 1024 / 1024 < 4

        if (!isJPG) {
          alert('上传头像图片只能是 JPG 或 PNG 格式!')
        }
        if (!isLt2M) {
          alert('上传头像图片大小不能超过 4MB!')
        }
        return isJPG && isLt2M
      },
//      ...mapMutations({
//      }),
//      handleSelect (key, keyPath) {
//        console.log(key, keyPath)
//      }
      handleNavClick (key, keyPath) {
        if (key.index === '1') {
          this.userInfo = true
        }
        if (key.index === '2') {
          this.userInfo = false
        }
      },
      handleOpen (key, keyPath) {
        console.log(key, keyPath)
      },
      handleClose (key, keyPath) {
        console.log(key, keyPath)
      }
    },
    watch: {
      largeSize: function () {
        this.isCollapse = !this.largeSize
      },
      mainHeight: function () {
        this.mainStyle.height = this.mainHeight + 'px'
        this.contentStyle.height = this.mainHeight - 100 + 'px'
      }
    }
  }
</script>
<style scoped src="./info.css"></style>
